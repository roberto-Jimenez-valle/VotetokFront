<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<link rel="apple-touch-icon" href="/favicon.png" />
		<link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous" />
		
		<!-- Viewport optimizado para iOS y Android -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
		
		<!-- Theme y PWA -->
		<meta name="theme-color" content="#000000" />
		<meta name="application-name" content="VoteTokRed" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="apple-mobile-web-app-title" content="VoteTokRed" />
		<meta name="format-detection" content="telephone=no" />
		
		<!-- Estilos críticos inline para mejor rendimiento -->
		<style>
			/* Reset y optimizaciones móviles */
			* {
				-webkit-tap-highlight-color: transparent;
				-webkit-touch-callout: none;
			}
			
			/* Variables CSS para altura dinámica (fix teclado móvil) */
			:root {
				--vh: 1vh;
			}
			
			html, body { 
				-webkit-text-size-adjust: 100%;
				-moz-text-size-adjust: 100%;
				-ms-text-size-adjust: 100%;
				text-size-adjust: 100%;
				overscroll-behavior: none;
				-webkit-overflow-scrolling: touch;
				margin: 0;
				padding: 0;
				background-color: #000000;
				width: 100%;
				height: 100vh;
				height: calc(var(--vh, 1vh) * 100);
			}
			
			/* Optimización de fuentes */
			body {
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
				font-display: swap;
			}
		</style>
		
		<!-- Script para calcular vh real (fix teclado móvil) -->
		<script>
			// Calcular altura real del viewport para móviles
			function setVH() {
				const vh = window.innerHeight * 0.01;
				document.documentElement.style.setProperty('--vh', `${vh}px`);
			}
			setVH();
			window.addEventListener('resize', setVH);
			window.addEventListener('orientationchange', setVH);
		</script>
		
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
		<script>
		  if ('serviceWorker' in navigator) {
			window.addEventListener('load', () => {
			  navigator.serviceWorker.register('/sw.js').catch(() => {});
			});
		  }
		</script>
	</body>
</html>
